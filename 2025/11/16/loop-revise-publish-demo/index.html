<!doctype html>







<html
  class="not-ready lg:text-base"
  style="--bg:#faf8f1"
  lang="en-us"
  dir="ltr"
><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Real-Time AI Editorial Workflows in Go: Loop, Revise, Publish with AgenticGoKit - Kunal Kushwaha</title>

  
  <meta name="theme-color" />

  <meta name="description" content="Build real-time AI editorial workflows in Go with AgenticGoKit ‚Äî loop revisions, stream progress to a live UI, and publish polished stories." />
  <meta name="author" content="Kunal Kushwaha" /><link rel="preload stylesheet" as="style" href="https://kunalkushwaha.github.io/main.min.css" />

  
  <link rel="preload" as="image" href="https://kunalkushwaha.github.io/theme.png" />

  

  <link rel="preload" as="image" href="https://kunalkushwaha.github.io/twitter.svg" /><link rel="preload" as="image" href="https://kunalkushwaha.github.io/github.svg" /><link rel="preload" as="image" href="https://kunalkushwaha.github.io/linkedin.svg" />

  <script
    defer
    src="https://kunalkushwaha.github.io/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>

  
  <link
    rel="icon"
    href="https://kunalkushwaha.github.io/favicon.ico"
  />
  <link
    rel="apple-touch-icon"
    href="https://kunalkushwaha.github.io/apple-touch-icon.png"
  />

  <meta name="generator" content="Hugo 0.147.2">
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-K16B935QET"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-K16B935QET');
        }
      </script>
  <meta itemprop="name" content="Real-Time AI Editorial Workflows in Go: Loop, Revise, Publish with AgenticGoKit">
  <meta itemprop="description" content="Build real-time AI editorial workflows in Go with AgenticGoKit ‚Äî loop revisions, stream progress to a live UI, and publish polished stories.">
  <meta itemprop="datePublished" content="2025-11-16T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-11-16T00:00:00+00:00">
  <meta itemprop="wordCount" content="1122">
  <meta itemprop="keywords" content="Agenticgokit,Ai,Workflows,Multi-Agent,Golang,Tutorial"><meta property="og:url" content="https://kunalkushwaha.github.io/2025/11/16/loop-revise-publish-demo/">
  <meta property="og:site_name" content="Kunal Kushwaha">
  <meta property="og:title" content="Real-Time AI Editorial Workflows in Go: Loop, Revise, Publish with AgenticGoKit">
  <meta property="og:description" content="Build real-time AI editorial workflows in Go with AgenticGoKit ‚Äî loop revisions, stream progress to a live UI, and publish polished stories.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2025-11-16T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-11-16T00:00:00+00:00">
    <meta property="article:tag" content="Agenticgokit">
    <meta property="article:tag" content="Ai">
    <meta property="article:tag" content="Workflows">
    <meta property="article:tag" content="Multi-Agent">
    <meta property="article:tag" content="Golang">
    <meta property="article:tag" content="Tutorial">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Real-Time AI Editorial Workflows in Go: Loop, Revise, Publish with AgenticGoKit">
  <meta name="twitter:description" content="Build real-time AI editorial workflows in Go with AgenticGoKit ‚Äî loop revisions, stream progress to a live UI, and publish polished stories.">

  <link rel="canonical" href="https://kunalkushwaha.github.io/2025/11/16/loop-revise-publish-demo/" />
</head>
<body
    class="bg-(--bg) text-black antialiased duration-200 ease-out [-webkit-tap-highlight-color:transparent] dark:text-white"
  ><header
  class="mx-auto flex h-[4.5rem] max-w-(--w) px-8 whitespace-nowrap lg:justify-center"
>
  <div class="relative z-50 flex items-center ltr:mr-auto rtl:ml-auto">
    <a
      class="-translate-y-[1px] text-2xl font-medium"
      href="https://kunalkushwaha.github.io/"
      >Kunal Kushwaha</a
    >
    <div
      class="btn-dark text-[0px] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden ltr:-mr-8 rtl:-ml-8"
    role="button"
    aria-label="Menu"
  ></div>

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#faf8f1'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full flex-col justify-center bg-(--bg) pb-16 duration-200 select-none lg:static lg:h-auto lg:flex-row lg:bg-transparent! lg:pb-0 lg:transition-none"
  ><nav
      class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-10 rtl:space-x-reverse"
    ><a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="../../../../"
        >Blog</a
      ><a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="https://speakerdeck.com/kunalkushwaha"
        >Slide Deck</a
      ><a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="../../../../about/"
        >About</a
      ></nav><nav
      class="mt-12 flex justify-center space-x-10 lg:mt-0 lg:items-center ltr:lg:ml-14 rtl:space-x-reverse rtl:lg:mr-14 dark:invert"
    >
      <a
        class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./twitter.svg)"
        href="https://twitter.com/kunalkushwaha"
        target="_blank"
        rel="me"
      >twitter</a>
      <a
        class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/kunalkushwaha"
        target="_blank"
        rel="me"
      >github</a>
      <a
        class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./linkedin.svg)"
        href="https://linkedin.com/in/kunalkushwaha"
        target="_blank"
        rel="me"
      >linkedin</a>
    </nav>
  </div>
</header>
<main
      class="prose prose-neutral dark:prose-invert relative mx-auto min-h-[calc(100vh-9rem)] max-w-(--w) px-8 pt-14 pb-16"
    ><article>
  <header class="mb-14">
    <h1 class="my-0! pb-2.5">Real-Time AI Editorial Workflows in Go: Loop, Revise, Publish with AgenticGoKit</h1><div class="text-xs antialiased opacity-60"><time>Nov 16, 2025</time></div></header>

  <section><p><img src="../../../../writer-workflow-hero.png" alt="writer workflow"></p>
<p><em>Picture this:</em> You ask for a bedtime story. A Writer agent drafts it in seconds‚Äîintentionally making a few typos. An Editor agent reads it, spots &ldquo;tyme&rdquo; instead of &ldquo;time,&rdquo; and fires back with corrections. The Writer fixes the issues and resubmits. The Editor approves. A Publisher agent then polishes everything into a beautiful final piece.</p>
<p><strong>All of this happens automatically, and you watch it unfold in real-time.</strong></p>
<p>This isn&rsquo;t science fiction‚Äîit&rsquo;s what you can build in an afternoon with <strong>AgenticGoKit</strong>, a pure Go framework for orchestrating multi-agent AI workflows. No Python required. No heavyweight dependencies. Just clean, idiomatic Go that lets you compose AI agents like LEGO bricks.</p>
<hr>
<h2 id="why-golang-developers-will-love-this">Why Golang developers will love this</h2>
<p>If you&rsquo;ve been envious of Python&rsquo;s AI ecosystem, here&rsquo;s your revenge:</p>
<ul>
<li><strong>Native Go</strong>: No wrappers, no Python subprocesses. Pure, compiled Go performance.</li>
<li><strong>Channels everywhere</strong>: Streaming responses feel natural when your language was built for concurrency.</li>
<li><strong>Type safety</strong>: Your agents are strongly typed. Your workflow graph catches errors at compile time.</li>
<li><strong>Deploy anywhere</strong>: Single binary. No pip dependencies breaking in production. Ship it as a container, a Lambda, or bare metal.</li>
</ul>
<p>The best part? The code actually makes sense. No magic decorators or hidden state‚Äîjust explicit agent definitions and workflow composition.</p>
<hr>
<h2 id="the-demo-a-mini-creative-studio-in-200-lines">The demo: A mini creative studio in ~200 lines</h2>
<p>Here&rsquo;s what the <code>story-writer-chat-v2</code> example does:</p>
<ol>
<li><strong>Writer Agent</strong> drafts a story (we seed a couple typos to make the loop visible)</li>
<li><strong>Editor Agent</strong> reviews and responds with either:
<ul>
<li><code>FIX: tyme‚Üítime, happyness‚Üíhappiness</code></li>
<li><code>APPROVED: [story text]</code></li>
</ul>
</li>
<li><strong>Loop continues</strong> until approved (configurable max iterations; the example uses <strong>3</strong>)</li>
<li><strong>Publisher Agent</strong> formats the final story with title and clean paragraphs</li>
</ol>
<h3 id="what-you-see-in-the-ui">What you see in the UI:</h3>
<p><img src="../../../../story-writer-demo.gif" alt="Story Writer Demo"></p>
<p>Agents &ldquo;talk&rdquo; to each other through streaming messages. It feels alive because the UI updates as each chunk arrives‚Äîjust like watching ChatGPT type.</p>
<hr>
<h2 id="under-the-hood-how-agenticgokit-makes-this-trivial">Under the hood: How AgenticGoKit makes this trivial</h2>
<h3 id="1-agents-are-just-functions-with-personality">1. Agents are just functions with personality</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Example agent creation (match the demo&#39;s shape in `workflow/agents.go`)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">writer</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">QuickChatAgentWithConfig</span>(<span style="color:#e6db74">&#34;Writer&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">Config</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Name</span>:         <span style="color:#e6db74">&#34;writer&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">SystemPrompt</span>: <span style="color:#a6e22e">WriterSystemPrompt</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Timeout</span>:      <span style="color:#ae81ff">90</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Streaming</span>:    <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">StreamingConfig</span>{<span style="color:#a6e22e">Enabled</span>: <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">BufferSize</span>: <span style="color:#ae81ff">50</span>, <span style="color:#a6e22e">FlushInterval</span>: <span style="color:#ae81ff">50</span>},
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">LLM</span>: <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">LLMConfig</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Provider</span>:    <span style="color:#a6e22e">cfg</span>.<span style="color:#a6e22e">Provider</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Model</span>:       <span style="color:#a6e22e">cfg</span>.<span style="color:#a6e22e">Model</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Temperature</span>: <span style="color:#ae81ff">0.8</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">MaxTokens</span>:   <span style="color:#ae81ff">500</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">APIKey</span>:      <span style="color:#a6e22e">cfg</span>.<span style="color:#a6e22e">APIKey</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>That&rsquo;s it. An agent is an LLM + config + optional memory. No inheritance hierarchies.</p>
<h3 id="2-loops-are-first-class-workflows">2. Loops are first-class workflows</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">loopWorkflow</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">NewLoopWorkflowWithCondition</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowConfig</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Mode</span>:          <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">Loop</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Timeout</span>:       <span style="color:#ae81ff">300</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">MaxIterations</span>: <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>}, <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">Conditions</span>.<span style="color:#a6e22e">OutputContains</span>(<span style="color:#e6db74">&#34;APPROVED&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">loopWorkflow</span>.<span style="color:#a6e22e">AddStep</span>(<span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowStep</span>{<span style="color:#a6e22e">Name</span>: <span style="color:#e6db74">&#34;write&#34;</span>, <span style="color:#a6e22e">Agent</span>: <span style="color:#a6e22e">writer</span>})
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">loopWorkflow</span>.<span style="color:#a6e22e">AddStep</span>(<span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowStep</span>{<span style="color:#a6e22e">Name</span>: <span style="color:#e6db74">&#34;edit&#34;</span>, <span style="color:#a6e22e">Agent</span>: <span style="color:#a6e22e">editor</span>})
</span></span></code></pre></div><p>The framework handles the cycling. You just define the exit condition.</p>
<h3 id="3-workflows-compose-into-bigger-workflows">3. Workflows compose into bigger workflows</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Wrap the loop as a single agent</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">revisionLoop</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">NewSubWorkflowAgent</span>(<span style="color:#e6db74">&#34;revision_loop&#34;</span>, <span style="color:#a6e22e">loopWorkflow</span>, <span style="color:#f92672">...</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Build the main pipeline</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">mainWorkflow</span>.<span style="color:#a6e22e">AddStep</span>(<span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowStep</span>{<span style="color:#a6e22e">Name</span>: <span style="color:#e6db74">&#34;revisions&#34;</span>, <span style="color:#a6e22e">Agent</span>: <span style="color:#a6e22e">revisionLoop</span>})
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">mainWorkflow</span>.<span style="color:#a6e22e">AddStep</span>(<span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowStep</span>{<span style="color:#a6e22e">Name</span>: <span style="color:#e6db74">&#34;publish&#34;</span>, <span style="color:#a6e22e">Agent</span>: <span style="color:#a6e22e">publisher</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Run it with streaming</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">stream</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">storyPipeline</span>.<span style="color:#a6e22e">RunStream</span>(<span style="color:#a6e22e">ctx</span>, <span style="color:#a6e22e">userPrompt</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#a6e22e">chunk</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">stream</span>.<span style="color:#a6e22e">Chunks</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Handle start/text/complete/metadata/error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Nesting workflows is trivial‚Äîthey&rsquo;re just agents with extra steps. This is how you build complex orchestrations without losing your mind.</p>
<h3 id="4-transforms-enforce-contracts">4. Transforms enforce contracts</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowStep</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Name</span>:  <span style="color:#e6db74">&#34;edit&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Agent</span>: <span style="color:#a6e22e">editor</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// In the demo transforms are simple string-&gt;string helpers (see `workflow/transforms.go`).</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Transform</span>: <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">input</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">`Review this draft. Output either:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">- FIX: word1‚Üícorrection1, word2‚Üícorrection2
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">- APPROVED: [story text]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Draft: %s`</span>, <span style="color:#a6e22e">input</span>)
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Transforms let you massage inputs/outputs between steps. The Editor always gets instructions‚Äîthe Writer never sees them. Clean separation of concerns.</p>
<hr>
<h2 id="the-visual-flow">The visual flow</h2>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">flowchart TD
    U[User Prompt] --&gt; SP[Story Pipeline]
    SP --&gt; RL[Revision Loop]
    
    subgraph RevisionLoop[Writer ‚Üî Editor Loop]
        direction TB
        W[Writer&lt;br/&gt;drafts story] --&gt; E[Editor&lt;br/&gt;reviews draft]
        E -- FIX: typos --&gt; W
        E -- APPROVED --&gt; OUT[Exit Loop]
    end
    
    RL --&gt; P[Publisher&lt;br/&gt;formats final story]
    P --&gt; FINAL[Beautiful Story ‚ú®]
    
    style RevisionLoop fill:#f0f0ff
    style W fill:#ffe0e0
    style E fill:#e0f0ff
    style P fill:#e0ffe0
</code></pre><hr>
<h2 id="real-time-streaming-the-secret-sauce">Real-time streaming: The secret sauce</h2>
<p>The demo includes a WebSocket server that converts agent events into UI updates:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Example (illustrative) stream handler that matches how the demo emits chunks.</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">StreamHandler</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">wsConn</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">websocket</span>.<span style="color:#a6e22e">Conn</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">h</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">StreamHandler</span>) <span style="color:#a6e22e">OnChunk</span>(<span style="color:#a6e22e">chunk</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">StreamChunk</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Type</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">ChunkTypeAgentStart</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">wsConn</span>.<span style="color:#a6e22e">WriteJSON</span>(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{<span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;agent_start&#34;</span>, <span style="color:#e6db74">&#34;agent&#34;</span>: <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Metadata</span>[<span style="color:#e6db74">&#34;step_name&#34;</span>]})
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">ChunkTypeText</span>, <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">ChunkTypeDelta</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">text</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Content</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Type</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">ChunkTypeDelta</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">text</span> = <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Delta</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">wsConn</span>.<span style="color:#a6e22e">WriteJSON</span>(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{<span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;agent_chunk&#34;</span>, <span style="color:#e6db74">&#34;agent&#34;</span>: <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Metadata</span>[<span style="color:#e6db74">&#34;step_name&#34;</span>], <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#a6e22e">text</span>})
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">ChunkTypeAgentComplete</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">wsConn</span>.<span style="color:#a6e22e">WriteJSON</span>(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{<span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;agent_complete&#34;</span>, <span style="color:#e6db74">&#34;agent&#34;</span>: <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Metadata</span>[<span style="color:#e6db74">&#34;step_name&#34;</span>], <span style="color:#e6db74">&#34;metadata&#34;</span>: <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Metadata</span>})
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">ChunkTypeMetadata</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">wsConn</span>.<span style="color:#a6e22e">WriteJSON</span>(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{<span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;workflow_info&#34;</span>, <span style="color:#e6db74">&#34;meta&#34;</span>: <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Metadata</span>})
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">ChunkTypeError</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">wsConn</span>.<span style="color:#a6e22e">WriteJSON</span>(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{<span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;error&#34;</span>, <span style="color:#e6db74">&#34;error&#34;</span>: <span style="color:#a6e22e">chunk</span>.<span style="color:#a6e22e">Error</span>.<span style="color:#a6e22e">Error</span>()})
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The frontend renders these as progressive chat messages. Users see agents &ldquo;thinking&rdquo; in real-time. It&rsquo;s the UX polish that makes AI feel magical.</p>
<hr>
<h2 id="run-it-yourself-in-60-seconds">Run it yourself in 60 seconds</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-pwsh" data-lang="pwsh"><span style="display:flex;"><span>git clone https<span style="color:#960050;background-color:#1e0010">:</span>//github.com/AgenticGoKit/agentic-examples
</span></span><span style="display:flex;"><span>cd agentic-examples\story-writer-chat-v2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Copy example env and edit it to match your provider</span>
</span></span><span style="display:flex;"><span>Copy-Item .env.example .env
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Edit `.env`: set `LLM_PROVIDER` and the matching API key variable.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Examples:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  - For OpenRouter: set `LLM_PROVIDER=openrouter` and `OPENROUTER_API_KEY=your-key`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  - For OpenAI direct: set `LLM_PROVIDER=openai` and `OPENAI_API_KEY=your-key`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Start backend</span>
</span></span><span style="display:flex;"><span>go mod tidy
</span></span><span style="display:flex;"><span>go run main.go  <span style="color:#75715e"># Runs on :8080</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># In another terminal, start frontend</span>
</span></span><span style="display:flex;"><span>cd frontend
</span></span><span style="display:flex;"><span>npm install
</span></span><span style="display:flex;"><span>npm run dev  <span style="color:#75715e"># Opens http://localhost:5173</span>
</span></span></code></pre></div><p>Type: <em>&ldquo;Write a short bedtime story about a tiny star that lost its sky.&rdquo;</em></p>
<p>Watch the Writer draft, the Editor critique, and the Publisher polish. It takes ~10 seconds.</p>
<hr>
<h2 id="extend-it-in-5-minutes-real-ideas-that-work">Extend it in 5 minutes: Real ideas that work</h2>
<h3 id="idea-1-human-in-the-loop-approval">Idea 1: Human-in-the-loop approval</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Pause before publishing, wait for user confirmation</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">mainWorkflow</span>.<span style="color:#a6e22e">AddStep</span>(<span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowStep</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Name</span>:  <span style="color:#e6db74">&#34;human_approval&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Agent</span>: <span style="color:#a6e22e">humanApprovalAgent</span>,  <span style="color:#75715e">// Blocks until webhook/button press</span>
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h3 id="idea-2-add-a-tone-coach">Idea 2: Add a tone coach</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">toneCoach</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">QuickChatAgentWithConfig</span>(<span style="color:#e6db74">&#34;tone_coach&#34;</span>, <span style="color:#a6e22e">llm</span>, <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">ChatConfig</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">SystemPrompt</span>: <span style="color:#e6db74">&#34;Rate tone (1-5). If &lt; 4, suggest improvements.&#34;</span>,
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">loopWorkflow</span>.<span style="color:#a6e22e">AddStep</span>(<span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowStep</span>{<span style="color:#a6e22e">Name</span>: <span style="color:#e6db74">&#34;tone_check&#34;</span>, <span style="color:#a6e22e">Agent</span>: <span style="color:#a6e22e">toneCoach</span>})
</span></span></code></pre></div><h3 id="idea-3-parallel-fact-checking">Idea 3: Parallel fact-checking</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">parallelWorkflow</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">NewParallelWorkflow</span>(<span style="color:#a6e22e">cfg</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">parallelWorkflow</span>.<span style="color:#a6e22e">AddStep</span>(<span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowStep</span>{<span style="color:#a6e22e">Name</span>: <span style="color:#e6db74">&#34;spell_check&#34;</span>, <span style="color:#a6e22e">Agent</span>: <span style="color:#a6e22e">spellChecker</span>})
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">parallelWorkflow</span>.<span style="color:#a6e22e">AddStep</span>(<span style="color:#a6e22e">vnext</span>.<span style="color:#a6e22e">WorkflowStep</span>{<span style="color:#a6e22e">Name</span>: <span style="color:#e6db74">&#34;fact_check&#34;</span>, <span style="color:#a6e22e">Agent</span>: <span style="color:#a6e22e">factChecker</span>})
</span></span></code></pre></div><p>All of these are ~10 lines of code. Seriously.</p>
<hr>
<h2 id="why-agenticgokit-exists">Why AgenticGoKit exists</h2>
<p>Python has LangChain and CrewAI. But if you&rsquo;re a Go shop:</p>
<ul>
<li><strong>You&rsquo;re not rewriting your infra in Python</strong> just for AI workflows</li>
<li><strong>You want proper testing</strong>, not notebooks that break in production</li>
<li><strong>You need to deploy to Lambda/Cloud Run/K8s</strong> without containerizing Python runtimes</li>
<li><strong>You value explicitness</strong> over magic</li>
</ul>
<p>AgenticGoKit gives you the good parts of agentic frameworks (composition, streaming, memory) without the Python tax.</p>
<hr>
<h2 id="why-you-should-try">Why you should try</h2>
<p>If you&rsquo;re building:</p>
<ul>
<li><strong>Content pipelines</strong>: Automate drafts, reviews, SEO optimization</li>
<li><strong>Customer support</strong>: Route ‚Üí classify ‚Üí respond ‚Üí escalate workflows</li>
<li><strong>Data processing</strong>: Extract ‚Üí validate ‚Üí transform ‚Üí summarize chains</li>
<li><strong>Code review bots</strong>: Analyze ‚Üí suggest ‚Üí apply ‚Üí test loops</li>
</ul>
<p>&hellip;you need orchestration that&rsquo;s transparent, debuggable, and fast. AgenticGoKit delivers.</p>
<p><strong>The story-writer demo is intentionally simple</strong>‚Äîit shows the core pattern without drowning you in complexity. Once you grok Writer ‚Üî Editor loops, you can build anything.</p>
<hr>
<h2 id="get-started">Get started</h2>
<ul>
<li><strong>GitHub</strong>: <a href="https://github.com/AgenticGoKit/agentic-examples">AgenticGoKit/agentic-examples</a></li>
<li><strong>Docs</strong>: <a href="https://docs.agenticgokit.com/">https://docs.agenticgokit.com/</a></li>
<li><strong>Discord</strong>: <em><a href="https://discord.gg/AWuEgVSTNg">Join our community</a></em></li>
</ul>
<p>Clone the repo. Run the demo. Break it. Build something weird.</p>
<p>Then show us what you made‚Äîwe love seeing creative hacks. üöÄ</p>
<hr>
<p><em>P.S. If you build a story-writer that uses an LLM to argue about serial commas, please tag us. We need to see this.</em></p>
</section>

  <footer class="mt-12 flex flex-wrap"><a
      class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://kunalkushwaha.github.io/tags/agenticgokit"
      >AgenticGoKit</a
    ><a
      class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://kunalkushwaha.github.io/tags/ai"
      >AI</a
    ><a
      class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://kunalkushwaha.github.io/tags/workflows"
      >workflows</a
    ><a
      class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://kunalkushwaha.github.io/tags/multi-agent"
      >multi-agent</a
    ><a
      class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://kunalkushwaha.github.io/tags/golang"
      >golang</a
    ><a
      class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://kunalkushwaha.github.io/tags/tutorial"
      >tutorial</a
    ></footer><nav
    class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg leading-[1.2]! *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"
  ><a
      class="justify-end pl-3 ltr:ml-auto rtl:mr-auto"
      href="https://kunalkushwaha.github.io/2025/11/08/agenticgokit-love-hf-and-openrouter/"
      ><span>AgenticGoKit ‚ù§Ô∏è HuggingFace and OpenRouter</span><span class="ltr:ml-1.5 rtl:mr-1.5">‚Üí</span></a
    ></nav><div class="mt-24" id="disqus_thread"></div>
  <script>
    const disqusShortname = 'kunalkushwaha';
    const script = document.createElement('script');
    script.src = 'https://' + disqusShortname + '.disqus.com/embed.js';
    script.setAttribute('data-timestamp', +new Date());
    document.head.appendChild(script);
  </script><script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script>
<script>
  Array.from(document.getElementsByClassName('language-mermaid')).forEach(
    (el) => {
      el.parentElement.outerHTML = `<div class="mermaid [&_svg]:block [&_svg]:m-auto">${el.innerHTML}</div>`;
    },
  );
</script></article></main><footer
  class="mx-auto flex h-[4.5rem] max-w-(--w) items-center px-8 text-xs tracking-wider uppercase opacity-60"
>
  <div class="mr-auto">Kunal Kushwaha</div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >powered by hugoÔ∏èÔ∏è</a
  >Ô∏è
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >hugo-paper</a
  >
</footer>
</body>
</html>
